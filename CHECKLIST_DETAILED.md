# Libasm - –ü–æ–¥—Ä–æ–±–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∫–æ–¥–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞.

---

## üìã –û–ë–©–ò–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò (Chapter II)

### ‚úÖ 1. –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–∞–¥–∞—é—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ

**–ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ `tests/main.c`
- –ù–µ—Ç segmentation fault, bus error, double free

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```bash
make test
# –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ –±–µ–∑ –æ—à–∏–±–æ–∫
```

**–í –∫–æ–¥–µ:**
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, NULL –ø—Ä–æ–≤–µ—Ä–∫–∏)
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–µ–∫–æ–º (push/pop —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é

---

### ‚úÖ 2. Makefile —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª–∞: $(NAME), all, clean, fclean, re

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∑–∞—â–∏—Ç–µ:**

**1. $(NAME) = libasm.a**
```makefile
NAME        := libasm.a
```
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ `libasm.a`

**2. –ü—Ä–∞–≤–∏–ª–æ all:**
```makefile
all: $(NAME)

$(NAME): $(OBJ_DIR) $(OBJS)
	@rm -f $@
	$(AR) $(ARFLAGS) $@ $(OBJS)
```
- –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –°–æ–∑–¥–∞—ë—Ç –∞—Ä—Ö–∏–≤ `libasm.a`

**3. –ü—Ä–∞–≤–∏–ª–æ clean:**
```makefile
clean:
	rm -rf $(OBJ_DIR)
```
- –£–¥–∞–ª—è–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `build/` —Å –æ–±—ä–µ–∫—Ç–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

**4. –ü—Ä–∞–≤–∏–ª–æ fclean:**
```makefile
fclean: clean
	rm -f $(NAME) $(TEST_BIN)
```
- –£–¥–∞–ª—è–µ—Ç –≤—Å—ë: –æ–±—ä–µ–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã, –±–∏–±–ª–∏–æ—Ç–µ–∫—É, —Ç–µ—Å—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫

**5. –ü—Ä–∞–≤–∏–ª–æ re:**
```makefile
re: fclean all
```
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç —Å –Ω—É–ª—è

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```bash
make fclean  # –ü–æ–∫–∞–∑–∞—Ç—å —á–∏—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
make all     # –°–æ–±—Ä–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
ls -la libasm.a  # –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
make clean   # –ü–æ–∫–∞–∑–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
```

---

### ‚úÖ 3. –ü—Ä–∞–≤–∏–ª–æ bonus –≤ Makefile

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```makefile
bonus: $(OBJ_DIR) $(OBJS) $(BONUS_OBJS)
	@rm -f $(NAME)
	$(AR) $(ARFLAGS) $(NAME) $(OBJS) $(BONUS_OBJS)
```
- –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏ –±–æ–Ω—É—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã
- –î–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –æ–¥–Ω—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É `libasm.a`

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```bash
make bonus
nm libasm.a | grep -E "(atoi|list)"  # –ü–æ–∫–∞–∑–∞—Ç—å –±–æ–Ω—É—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
```

---

### ‚úÖ 4. 64-bit assembly

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```makefile
ifeq ($(UNAME_S),Linux)
    NASMFLAGS   := -f elf64 -Wall -Werror
else
    NASMFLAGS   := -f macho64 -Wall -Werror -w-reloc-rel-dword
endif
```
- `-f elf64` –¥–ª—è Linux - 64-–±–∏—Ç–Ω—ã–π ELF —Ñ–æ—Ä–º–∞—Ç
- `-f macho64` –¥–ª—è macOS - 64-–±–∏—Ç–Ω—ã–π Mach-O —Ñ–æ—Ä–º–∞—Ç
- –û–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ - —ç—Ç–æ 64-–±–∏—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ x86-64

**–ö–∞–∫ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
- "–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º 64-–±–∏—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É x86-64"
- "–§–æ—Ä–º–∞—Ç –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: elf64 –¥–ª—è Linux, macho64 –¥–ª—è macOS"

---

### ‚úÖ 5. Intel syntax (–Ω–µ AT&T)

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤ –∫–æ–¥–µ:**

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ (Intel syntax):**
```assembly
mov     rax, rdi        ; dst, src
mov     [rdi], dl       ; [memory], register
cmp     byte [rdi + rax], 0
```

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (AT&T syntax):**
```assembly
mov     %rdi, %rax      ; src, dst - –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
mov     %dl, (%rdi)     ; register, (memory) - –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
cmpb    $0, (%rdi,%rax) ; –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
```

**–ö–∞–∫ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
- "–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Intel syntax: —Å–Ω–∞—á–∞–ª–∞ –º–µ—Å—Ç–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –∑–∞—Ç–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫"
- "–í Intel syntax –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ –æ–∑–Ω–∞—á–∞—é—Ç —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è"
- –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä: `mov rax, rdi` - –∫–æ–ø–∏—Ä—É–µ—Ç rdi –≤ rax

---

### ‚úÖ 6. –ö–æ–º–ø–∏–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ nasm

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```makefile
NASM        := nasm
$(OBJ_DIR)/%.o: $(SRC_DIR)/%.s | $(OBJ_DIR)
	$(NASM) $(NASMFLAGS) $(INCLUDES) -o $@ $<
```
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä `nasm`
- –ö–æ–º–∞–Ω–¥–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: `nasm -f elf64/macho64 -Wall -Werror ...`

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```bash
nasm --version  # –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é nasm
make clean && make  # –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```

---

### ‚úÖ 7. –§–ª–∞–≥ -no-pie –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep -i "no-pie" Makefile
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ - —Ñ–ª–∞–≥ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
```

**–ö–∞–∫ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
- "–ú—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–ª–∞–≥ `-no-pie`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –∑–∞–ø—Ä–µ—â—ë–Ω –∑–∞–¥–∞–Ω–∏–µ–º"
- –ü–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤ CFLAGS –Ω–µ—Ç —ç—Ç–æ–≥–æ —Ñ–ª–∞–≥–∞

---

## üîß –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –ß–ê–°–¢–¨ (Chapter III)

### ‚úÖ 1. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è libasm.a

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
make bonus
ls -la libasm.a
file libasm.a
```
- –§–∞–π–ª `libasm.a` –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
- –≠—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (ar archive)

---

### ‚úÖ 2. –§—É–Ω–∫—Ü–∏—è main –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–§–∞–π–ª:** `tests/main.c`

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
- –§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é `main()`
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```bash
make test
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
```

---

### ‚úÖ 3. ft_strlen (man 3 strlen)

**–§–∞–π–ª:** `src/ft_strlen.s`

**–†–∞–∑–±–æ—Ä –∫–æ–¥–∞ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ:**

```assembly
section .text           ; –°–µ–∫—Ü–∏—è –∫–æ–¥–∞
%ifidn __OUTPUT_FORMAT__,elf64
global ft_strlen        ; –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è Linux (–±–µ–∑ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è)
ft_strlen:
%else
global _ft_strlen       ; –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è macOS (—Å –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ–º)
_ft_strlen:
%endif
    xor     rax, rax    ; –û–±–Ω—É–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ (rax = 0) - –±—ã—Å—Ç—Ä–µ–µ —á–µ–º mov rax, 0
.loop:
    cmp     byte [rdi + rax], 0  ; –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –±–∞–π—Ç–∞ –ø–æ –∞–¥—Ä–µ—Å—É rdi+rax —Å –Ω—É–ª—ë–º
    je      .done       ; –ï—Å–ª–∏ —Ä–∞–≤–Ω–æ (–∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏), –ø–µ—Ä–µ—Ö–æ–¥ –∫ .done
    inc     rax         ; –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
    jmp     .loop       ; –ü–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—É —Ü–∏–∫–ª–∞
.done:
    ret                 ; –í–æ–∑–≤—Ä–∞—Ç (–¥–ª–∏–Ω–∞ —É–∂–µ –≤ rax)
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **Calling convention:** `rdi` - –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç (—É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä–æ–∫—É), `rax` - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** `xor rax, rax` –∫–æ—Ä–æ—á–µ –∏ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º `mov rax, 0`
3. **–†–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é:** `byte [rdi + rax]` - –¥–æ—Å—Ç—É–ø –∫ –±–∞–π—Ç—É –ø–æ –∞–¥—Ä–µ—Å—É (rdi + rax)
4. **–£—Å–ª–æ–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è:** –†–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è Linux/macOS

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
printf("ft_strlen(\"Hello\") = %zu\n", ft_strlen("Hello"));  // 5
printf("ft_strlen(\"\") = %zu\n", ft_strlen(""));            // 0
```

---

### ‚úÖ 4. ft_strcpy (man 3 strcpy)

**–§–∞–π–ª:** `src/ft_strcpy.s`

**–†–∞–∑–±–æ—Ä –∫–æ–¥–∞ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ:**

```assembly
section .text
%ifidn __OUTPUT_FORMAT__,elf64
global ft_strcpy
ft_strcpy:
%else
global _ft_strcpy
_ft_strcpy:
%endif
    mov     rax, rdi    ; –°–æ—Ö—Ä–∞–Ω—è–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ dst –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
.copy:
    mov     dl, [rsi]   ; –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–π—Ç –∏–∑ src –≤ dl
    mov     [rdi], dl   ; –ö–æ–ø–∏—Ä—É–µ–º –±–∞–π—Ç –≤ dst
    inc     rsi         ; –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–∞–π—Ç—É –≤ src
    inc     rdi         ; –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–∞–π—Ç—É –≤ dst
    test    dl, dl      ; –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Ä–∞–≤–µ–Ω –ª–∏ –±–∞–π—Ç –Ω—É–ª—é (test –≤—ã–ø–æ–ª–Ω—è–µ—Ç AND)
    jne     .copy       ; –ï—Å–ª–∏ –Ω–µ –Ω–æ–ª—å, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
    ret                 ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ dst (–≤ rax)
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** `rdi` = dst (–∫—É–¥–∞ –∫–æ–ø–∏—Ä—É–µ–º), `rsi` = src (–æ—Ç–∫—É–¥–∞ –∫–æ–ø–∏—Ä—É–µ–º)
2. **–í–æ–∑–≤—Ä–∞—Ç:** –°–æ—Ö—Ä–∞–Ω—è–µ–º `rdi` –≤ `rax` –≤ –Ω–∞—á–∞–ª–µ, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ dst
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** `test dl, dl` –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º `cmp dl, 0` (–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
4. **–ó–∞–≤–µ—Ä—à–∞—é—â–∏–π –Ω—É–ª—å:** –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
char dst[100];
ft_strcpy(dst, "Hello");
printf("Copied: %s\n", dst);  // "Hello"
```

---

### ‚úÖ 5. ft_strcmp (man 3 strcmp)

**–§–∞–π–ª:** `src/ft_strcmp.s`

**–†–∞–∑–±–æ—Ä –∫–æ–¥–∞ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ:**

```assembly
section .text
%ifidn __OUTPUT_FORMAT__,elf64
global ft_strcmp
ft_strcmp:
%else
global _ft_strcmp
_ft_strcmp:
%endif
.loop:
    mov     al, [rdi]   ; –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–π—Ç –∏–∑ s1 –≤ al
    mov     dl, [rsi]   ; –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–π—Ç –∏–∑ s2 –≤ dl
    cmp     al, dl      ; –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –±–∞–π—Ç—ã
    jne     .diff       ; –ï—Å–ª–∏ –Ω–µ —Ä–∞–≤–Ω—ã, –ø–µ—Ä–µ—Ö–æ–¥ –∫ .diff
    test    al, al      ; –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∫–æ–Ω–µ—Ü –ª–∏ —Å—Ç—Ä–æ–∫–∏ (al == 0)
    je      .equal      ; –ï—Å–ª–∏ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏, —Å—Ç—Ä–æ–∫–∏ —Ä–∞–≤–Ω—ã
    inc     rdi         ; –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–∏–º–≤–æ–ª—É s1
    inc     rsi         ; –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–∏–º–≤–æ–ª—É s2
    jmp     .loop       ; –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
.diff:
    movzx   eax, al     ; –†–∞—Å—à–∏—Ä—è–µ–º al –¥–æ eax (—Å –Ω—É–ª—è–º–∏)
    movzx   edx, dl     ; –†–∞—Å—à–∏—Ä—è–µ–º dl –¥–æ edx (—Å –Ω—É–ª—è–º–∏)
    sub     eax, edx    ; –í—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–Ω–∏—Ü—É: s1[i] - s2[i]
    ret                 ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–∞–∑–Ω–∏—Ü—É
.equal:
    xor     eax, eax    ; –û–±–Ω—É–ª—è–µ–º eax (—Å—Ç—Ä–æ–∫–∏ —Ä–∞–≤–Ω—ã)
    ret                 ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º 0
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–õ–æ–≥–∏–∫–∞:** –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –±–∞–π—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É –¥–æ –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è –∏–ª–∏ –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏
2. **–í–æ–∑–≤—Ä–∞—Ç:** –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–∏–º–≤–æ–ª–∞–º–∏ (–Ω–µ –ø—Ä–æ—Å—Ç–æ -1/0/1), –∫–∞–∫ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π strcmp
3. **movzx:** –†–∞—Å—à–∏—Ä—è–µ—Ç –±–∞–π—Ç –¥–æ 32 –±–∏—Ç –±–µ–∑ –∑–Ω–∞–∫–∞ (–Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã—á–∏—Ç–∞–Ω–∏—è)
4. **test al, al:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏ (–Ω—É–ª–µ–≤–æ–π –±–∞–π—Ç)

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
printf("ft_strcmp(\"abc\", \"abc\") = %d\n", ft_strcmp("abc", "abc"));  // 0
printf("ft_strcmp(\"abc\", \"abd\") = %d\n", ft_strcmp("abc", "abd"));  // < 0
printf("ft_strcmp(\"abd\", \"abc\") = %d\n", ft_strcmp("abd", "abc"));  // > 0
```

---

### ‚úÖ 6. ft_write (man 2 write)

**–§–∞–π–ª:** `src/ft_write.s`

**–†–∞–∑–±–æ—Ä –∫–æ–¥–∞ –¥–ª—è Linux:**

```assembly
section .text
%ifidn __OUTPUT_FORMAT__,elf64
global ft_write
extern __errno_location
ft_write:
    mov     rax, 1      ; –ù–æ–º–µ—Ä —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ write –¥–ª—è Linux
    syscall             ; –í—ã–∑–æ–≤ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
    cmp     rax, 0      ; –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    jl      .error      ; –ï—Å–ª–∏ –º–µ–Ω—å—à–µ 0, –±—ã–ª–∞ –æ—à–∏–±–∫–∞
    ret                 ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤
.error:
    neg     rax         ; –î–µ–ª–∞–µ–º –æ—à–∏–±–∫—É –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π (rax –±—ã–ª –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º)
    mov     rdx, rax    ; –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–¥ –æ—à–∏–±–∫–∏ –≤ rdx
    call    __errno_location  ; –ü–æ–ª—É—á–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ errno
    mov     [rax], edx  ; –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º errno
    mov     rax, -1     ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º -1
    ret
```

**–†–∞–∑–±–æ—Ä –∫–æ–¥–∞ –¥–ª—è macOS:**

```assembly
%else
global _ft_write
extern ___error
_ft_write:
    mov     rax, 0x2000004  ; –ù–æ–º–µ—Ä —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ write –¥–ª—è macOS (—Å offset)
    syscall                 ; –í—ã–∑–æ–≤ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
    jnc     .done          ; –ï—Å–ª–∏ –Ω–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞ (CF=0), —É—Å–ø–µ—Ö
    sub     rsp, 16        ; –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å—Ç–µ–∫ –Ω–∞ 16 –±–∞–π—Ç
    mov     [rsp], rax     ; –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–¥ –æ—à–∏–±–∫–∏
    call    ___error       ; –ü–æ–ª—É—á–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ errno
    mov     rcx, [rsp]     ; –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–¥ –æ—à–∏–±–∫–∏
    add     rsp, 16        ; –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–µ–∫
    mov     [rax], ecx     ; –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º errno
    mov     rax, -1        ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º -1
    ret
.done:
    ret
%endif
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–°–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤:** –ù–æ–º–µ—Ä –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ `rax`, –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ `rdi`, `rsi`, `rdx`
2. **–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**
   - Linux: –ø—Ä—è–º–æ–π –Ω–æ–º–µ—Ä `1`, –æ—à–∏–±–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–º—É –≤–æ–∑–≤—Ä–∞—Ç—É
   - macOS: –Ω–æ–º–µ—Ä —Å offset `0x2000004`, –æ—à–∏–±–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Ñ–ª–∞–≥—É –ø–µ—Ä–µ–Ω–æ—Å–∞ (CF)
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ errno:**
   - Linux: `__errno_location()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ errno
   - macOS: `___error()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ errno
4. **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å—Ç–µ–∫–∞:** –ù–∞ macOS –Ω—É–∂–Ω–æ –≤—ã—Ä–æ–≤–Ω—è—Ç—å —Å—Ç–µ–∫ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–∏

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
ssize_t ret = ft_write(1, "Hello\n", 6);  // –ó–∞–ø–∏—Å—å –≤ stdout
printf("ft_write returned: %zd\n", ret);  // 6
```

---

### ‚úÖ 7. ft_read (man 2 read)

**–§–∞–π–ª:** `src/ft_read.s`

**–õ–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ ft_write, –Ω–æ:**
- Linux: –Ω–æ–º–µ—Ä —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `0` (SYS_read)
- macOS: –Ω–æ–º–µ—Ä —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `0x2000003` (SYS_read)

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–ß—Ç–µ–Ω–∏–µ:** –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Ç–µ –∂–µ: `rdi` = fd, `rsi` = buf, `rdx` = count
2. **–í–æ–∑–≤—Ä–∞—Ç:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ count)
3. **–û—à–∏–±–∫–∏:** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤ ft_write

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
char buf[10] = {0};
ssize_t ret = ft_read(0, buf, 10);  // –ß—Ç–µ–Ω–∏–µ –∏–∑ stdin
printf("Read %zd bytes\n", ret);
```

---

### ‚úÖ 8. ft_strdup (man 3 strdup)

**–§–∞–π–ª:** `src/ft_strdup.s`

**–†–∞–∑–±–æ—Ä –∫–æ–¥–∞:**

```assembly
section .text
%ifidn __OUTPUT_FORMAT__,elf64
global ft_strdup
extern malloc
extern ft_strlen
extern ft_strcpy
ft_strdup:
    push    rdi         ; –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç–µ–∫ (rdi –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—ë–Ω)
    call    ft_strlen   ; –í—ã–∑—ã–≤–∞–µ–º ft_strlen - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ rax (–¥–ª–∏–Ω–∞)
    inc     rax         ; –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –Ω–∞ 1 –¥–ª—è –Ω—É–ª–µ–≤–æ–≥–æ –±–∞–π—Ç–∞
    mov     rdi, rax    ; –ü–µ—Ä–µ–¥–∞—ë–º —Ä–∞–∑–º–µ—Ä –≤ rdi –¥–ª—è malloc
    call    malloc      ; –í—ã–¥–µ–ª—è–µ–º –ø–∞–º—è—Ç—å - —É–∫–∞–∑–∞—Ç–µ–ª—å –≤ rax
    test    rax, rax    ; –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤–µ—Ä–Ω—É–ª –ª–∏ malloc NULL
    je      .alloc_fail ; –ï—Å–ª–∏ NULL, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–∫–∏
    mov     rsi, [rsp]  ; –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –∏–∑ —Å—Ç–µ–∫–∞ –≤ rsi
    mov     rdi, rax    ; –ü–µ—Ä–µ–¥–∞—ë–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å –≤ rdi
    call    ft_strcpy   ; –ö–æ–ø–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É - rax —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ–≤—É—é –ø–∞–º—è—Ç—å
    add     rsp, 8      ; –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –º–µ—Å—Ç–æ –≤ —Å—Ç–µ–∫–µ
    ret                 ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É
.alloc_fail:
    add     rsp, 8      ; –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –º–µ—Å—Ç–æ –≤ —Å—Ç–µ–∫–µ
    ret                 ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º NULL (rax —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç NULL)
%endif
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:** `push rdi` - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É, —Ç–∞–∫ –∫–∞–∫ `ft_strlen` –∏–∑–º–µ–Ω—è–µ—Ç `rdi`
2. **–í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:** `malloc(strlen(s) + 1)` - +1 –¥–ª—è –Ω—É–ª–µ–≤–æ–≥–æ –±–∞–π—Ç–∞
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–∫–∏:** `test rax, rax` - –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ malloc –Ω–µ –≤–µ—Ä–Ω—É–ª NULL
4. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:** `mov rsi, [rsp]` - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
5. **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ —Å—Ç–µ–∫–∞:** –í–∞–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Å—Ç–µ–∫ (`add rsp, 8`) –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
char *dup = ft_strdup("Hello");
printf("ft_strdup(\"Hello\") = \"%s\"\n", dup);  // "Hello"
free(dup);  // –ù–µ –∑–∞–±—ã–≤–∞–µ–º –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å
```

---

## üéÅ –ë–û–ù–£–°–ù–ê–Ø –ß–ê–°–¢–¨ (Chapter IV)

### ‚úÖ 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ t_list

**–§–∞–π–ª:** `include/libasm.h`

```c
typedef struct s_list
{
    void            *data;
    struct s_list   *next;
}   t_list;
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–¥–∞–Ω–∏—é
- `data` - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –¥–∞–Ω–Ω—ã–µ (8 –±–∞–π—Ç –Ω–∞ 64-bit)
- `next` - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç (8 –±–∞–π—Ç –Ω–∞ 64-bit)
- –†–∞–∑–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: 16 –±–∞–π—Ç

---

### ‚úÖ 2. ft_atoi_base

**–§–∞–π–ª:** `src/bonus/ft_atoi_base_bonus.s`

**–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:**

```assembly
; 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (NULL, –±–∞–∑–∞ >= 2)
; 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –±–∞–∑—ã (–¥—É–±–ª–∏–∫–∞—Ç—ã, –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã)
; 3. –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–±–µ–ª–æ–≤
; 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–Ω–∞–∫–∞ (+ –∏–ª–∏ -)
; 5. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–∏ –≤ —á–∏—Å–ª–æ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –±–∞–∑—ã:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É, –¥—É–±–ª–∏–∫–∞—Ç—ã —Å–∏–º–≤–æ–ª–æ–≤, –Ω–∞–ª–∏—á–∏–µ +/-
2. **–ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–±–µ–ª–æ–≤:** –ü—Ä–æ–ø—É—Å–∫–∞–µ–º whitespace –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏
3. **–ó–Ω–∞–∫:** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º + –∏ - –ø–µ—Ä–µ–¥ —á–∏—Å–ª–æ–º
4. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:** –ù–∞—Ö–æ–¥–∏–º –∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª –≤ –±–∞–∑–µ –∏ –≤—ã—á–∏—Å–ª—è–µ–º —á–∏—Å–ª–æ –ø–æ —Ñ–æ—Ä–º—É–ª–µ: `result = result * base_len + digit_index`

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
printf("ft_atoi_base(\"1010\", \"01\") = %d\n", ft_atoi_base("1010", "01"));  // 10 (binary)
printf("ft_atoi_base(\"FF\", \"0123456789ABCDEF\") = %d\n", ft_atoi_base("FF", "0123456789ABCDEF"));  // 255 (hex)
```

---

### ‚úÖ 3. ft_list_push_front

**–§–∞–π–ª:** `src/bonus/ft_list_push_front_bonus.s`

**–†–∞–∑–±–æ—Ä –∫–æ–¥–∞:**

```assembly
ft_list_push_front:
    push    r12         ; –°–æ—Ö—Ä–∞–Ω—è–µ–º r12 (callee-saved register)
    push    r13         ; –°–æ—Ö—Ä–∞–Ω—è–µ–º r13
    mov     r12, rdi    ; –°–æ—Ö—Ä–∞–Ω—è–µ–º begin_list (–¥–≤–æ–π–Ω–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å)
    mov     r13, rsi    ; –°–æ—Ö—Ä–∞–Ω—è–µ–º data
    
    ; –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ NULL
    test    r12, r12
    je      .done
    
    ; –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
    mov     rdi, 16     ; –†–∞–∑–º–µ—Ä t_list = 16 –±–∞–π—Ç
    call    malloc      ; –í—ã–¥–µ–ª—è–µ–º –ø–∞–º—è—Ç—å –¥–ª—è –Ω–æ–≤–æ–≥–æ —É–∑–ª–∞
    test    rax, rax    ; –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ NULL
    je      .done       ; –ï—Å–ª–∏ NULL, –≤—ã—Ö–æ–¥–∏–º
    
    ; –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —É–∑–ª–∞
    mov     [rax], r13      ; new->data = data (–ø–æ —Å–º–µ—â–µ–Ω–∏—é 0)
    mov     rcx, [r12]      ; –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â—É—é –≥–æ–ª–æ–≤—É —Å–ø–∏—Å–∫–∞
    mov     [rax + 8], rcx  ; new->next = *begin_list (–ø–æ —Å–º–µ—â–µ–Ω–∏—é 8)
    
    ; –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–æ–ª–æ–≤—ã —Å–ø–∏—Å–∫–∞
    mov     [r12], rax      ; *begin_list = new
    
.done:
    pop     r13         ; –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä—ã
    pop     r12
    ret
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–î–≤–æ–π–Ω–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å:** `**begin_list` –Ω—É–∂–µ–Ω –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞
2. **–í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:** `malloc(16)` - —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã t_list
3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–º—è—Ç–∏:** `[rax]` = data (offset 0), `[rax + 8]` = next (offset 8)
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤:** `r12-r15` –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è (callee-saved)

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
t_list *list = NULL;
ft_list_push_front(&list, "first");
ft_list_push_front(&list, "second");
// –°–ø–∏—Å–æ–∫: "second" -> "first" -> NULL
```

---

### ‚úÖ 4. ft_list_size

**–§–∞–π–ª:** `src/bonus/ft_list_size_bonus.s`

**–†–∞–∑–±–æ—Ä –∫–æ–¥–∞:**

```assembly
ft_list_size:
    xor     rax, rax    ; count = 0
    test    rdi, rdi    ; –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ NULL –ª–∏ —Å–ø–∏—Å–æ–∫
    je      .done       ; –ï—Å–ª–∏ NULL, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 0
    
.loop:
    test    rdi, rdi    ; –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª
    je      .done       ; –ï—Å–ª–∏ NULL, –∑–∞–≤–µ—Ä—à–∞–µ–º —Ü–∏–∫–ª
    inc     rax         ; –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
    mov     rdi, [rdi + 8]  ; –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É: current = current->next
    jmp     .loop       ; –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ü–∏–∫–ª
    
.done:
    ret                 ; –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–∞–∑–º–µ—Ä –≤ rax
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–ü—Ä–æ—Å—Ç–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º:** –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Å–ø–∏—Å–∫—É, —Å—á–∏—Ç–∞—è —ç–ª–µ–º–µ–Ω—Ç—ã
2. **–°–º–µ—â–µ–Ω–∏–µ:** `[rdi + 8]` - –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—é `next` —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
3. **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** O(n) - –ª–∏–Ω–µ–π–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
t_list *list = NULL;
ft_list_push_front(&list, "third");
ft_list_push_front(&list, "second");
ft_list_push_front(&list, "first");
printf("Size: %d\n", ft_list_size(list));  // 3
```

---

### ‚úÖ 5. ft_list_sort

**–§–∞–π–ª:** `src/bonus/ft_list_sort_bonus.s`

**–ê–ª–≥–æ—Ä–∏—Ç–º:** –ü—É–∑—ã—Ä—å–∫–æ–≤–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

```assembly
ft_list_sort:
    mov     r13, rsi    ; –°–æ—Ö—Ä–∞–Ω—è–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤ r13 (callee-saved)
    
.outer_loop:            ; –í–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª
    mov     r8, rdi     ; current = *begin_list
    mov     r9, 0       ; swapped = 0 (—Ñ–ª–∞–≥ –æ–±–º–µ–Ω–∞)
    
.inner_loop:            ; –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª
    mov     r10, [r8 + 8]   ; next = current->next
    
    ; –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–≥–∏—Å—Ç—Ä—ã –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º cmp
    push    rdi
    push    r8
    push    r13
    mov     rdi, [r8]       ; rdi = current->data
    mov     rsi, [r10]      ; rsi = next->data
    call    r13             ; –í—ã–∑—ã–≤–∞–µ–º cmp(current->data, next->data)
    pop     r13             ; –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä—ã
    pop     r8
    pop     rdi
    
    test    eax, eax    ; –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    jle     .no_swap    ; –ï—Å–ª–∏ <= 0, –Ω–µ –º–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏
    
    ; –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã—Ö (–Ω–µ —É–∑–ª–æ–≤!)
    mov     r11, [r8]       ; temp = current->data
    mov     r12, [r10]      ; temp2 = next->data
    mov     [r8], r12       ; current->data = next->data
    mov     [r10], r11      ; next->data = temp
    mov     r9, 1           ; swapped = 1
    
.no_swap:
    mov     r8, [r8 + 8]    ; current = current->next
    jmp     .inner_loop
    
.check_swap:
    test    r9, r9          ; –ï—Å–ª–∏ swapped == 0, —Å–ø–∏—Å–æ–∫ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
    je      .done
    jmp     .outer_loop     ; –ò–Ω–∞—á–µ –¥–µ–ª–∞–µ–º –µ—â—ë –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é:** `r13` - callee-saved register, –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é
2. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –Ω–µ —É–∑–ª–æ–≤:** –ú–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏ —Ç–æ–ª—å–∫–æ `data`, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–æ–≤ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤:** –ü–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `cmp` —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –§–ª–∞–≥ `swapped` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è —Ä–∞–Ω—å—à–µ, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
t_list *list = NULL;
ft_list_push_front(&list, "zebra");
ft_list_push_front(&list, "apple");
ft_list_push_front(&list, "banana");
ft_list_sort(&list, cmp_str);
// –ü–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: "apple" -> "banana" -> "zebra"
```

---

### ‚úÖ 6. ft_list_remove_if

**–§–∞–π–ª:** `src/bonus/ft_list_remove_if_bonus.s`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ –Ω–∞—á–∞–ª–∞ —Å–ø–∏—Å–∫–∞
2. –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–µ—Ä–µ–¥–∏–Ω—ã/–∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

```assembly
ft_list_remove_if:
    ; –°–æ—Ö—Ä–∞–Ω—è–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ callee-saved —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö
    mov     r12, rdi    ; begin_list
    mov     r13, rsi    ; data_ref
    mov     r14, rdx    ; cmp function
    mov     r15, rcx    ; free_fct function
    
    ; –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –Ω–∞—á–∞–ª–∞
.remove_head_loop:
    mov     rbx, [r12]      ; current = *begin_list
    ; ... –≤—ã–∑–æ–≤ cmp ...
    ; –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, —É–¥–∞–ª—è–µ–º:
    mov     rcx, [rbx + 8]  ; next = current->next
    mov     [r12], rcx      ; *begin_list = next
    ; –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —É–∑–ª–∞
    call    r15             ; free_fct(current->data)
    call    free            ; free(current node)
    
    ; –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —Å–µ—Ä–µ–¥–∏–Ω—ã/–∫–æ–Ω—Ü–∞
.remove_middle:
    mov     rbx, [r12]      ; prev = *begin_list
.middle_loop:
    mov     rcx, [rbx + 8]  ; current = prev->next
    ; ... –≤—ã–∑–æ–≤ cmp ...
    ; –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, —É–¥–∞–ª—è–µ–º:
    mov     rdx, [rcx + 8]  ; next = current->next
    mov     [rbx + 8], rdx  ; prev->next = next
    ; –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —É–∑–ª–∞
    call    r15             ; free_fct(current->data)
    call    free            ; free(current node)
```

**–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:**
1. **–î–≤–∞ —ç—Ç–∞–ø–∞:** –°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ–º –∏–∑ –Ω–∞—á–∞–ª–∞ (–º–µ–Ω—è–µ—Ç—Å—è `*begin_list`), –ø–æ—Ç–æ–º –∏–∑ —Å–µ—Ä–µ–¥–∏–Ω—ã
2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π:** –í–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–≤—è–∑–∞—Ç—å `prev->next` —Å `next` –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
3. **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:** –°–Ω–∞—á–∞–ª–∞ `free_fct(data)`, –ø–æ—Ç–æ–º `free(node)`
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤:** –í—Å–µ 4 –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `r12-r15`

**–ö–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:**
```c
t_list *list = NULL;
ft_list_push_front(&list, "keep3");
ft_list_push_front(&list, "remove");
ft_list_push_front(&list, "keep2");
ft_list_push_front(&list, "remove");
ft_list_push_front(&list, "keep1");
ft_list_remove_if(&list, "remove", cmp_str, free_str);
// –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è: "keep1" -> "keep2" -> "keep3" -> NULL
```

---

## üìä CALLING CONVENTION x86-64

### –ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:

1. **–ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:**
   - –ü–µ—Ä–≤—ã–µ 6 –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö: `rdi`, `rsi`, `rdx`, `rcx`, `r8`, `r9`
   - –û—Å—Ç–∞–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ç–µ–∫

2. **–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
   - –¶–µ–ª—ã–µ —á–∏—Å–ª–∞ –∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ `rax`
   - –ë–æ–ª—å—à–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å

3. **Callee-saved —Ä–µ–≥–∏—Å—Ç—Ä—ã:**
   - `rbx`, `rbp`, `r12`, `r13`, `r14`, `r15` –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º, –¥–µ–ª–∞–µ–º `push` –≤ –Ω–∞—á–∞–ª–µ, `pop` –≤ –∫–æ–Ω—Ü–µ

4. **Caller-saved —Ä–µ–≥–∏—Å—Ç—Ä—ã:**
   - –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π
   - –í—ã–∑—ã–≤–∞—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

5. **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å—Ç–µ–∫–∞:**
   - –°—Ç–µ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—Ä–æ–≤–Ω–µ–Ω –Ω–∞ 16 –±–∞–π—Ç –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–π

**–ü—Ä–∏–º–µ—Ä—ã:**
```assembly
; –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
; rdi = –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
; rsi = –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç
; rdx = —Ç—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç

; –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å r12:
push    r12         ; –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –Ω–∞—á–∞–ª–µ
; ... –∏—Å–ø–æ–ª—å–∑—É–µ–º r12 ...
pop     r12         ; –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤ –∫–æ–Ω—Ü–µ
```

---

## üéØ –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ó–ê–©–ò–¢–´

### –ü–æ—Ä—è–¥–æ–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:

1. **–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   ls -R
   tree  # –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
   ```

2. **–ü–æ–∫–∞–∑–∞—Ç—å Makefile:**
   ```bash
   cat Makefile
   ```

3. **–ß–∏—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞:**
   ```bash
   make fclean
   make bonus
   ls -la libasm.a
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã:**
   ```bash
   make test
   ```

5. **–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–π:**
   - –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª `.s`
   - –û–±—ä—è—Å–Ω–∏—Ç—å –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
   - –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤

6. **–û–±—ä—è—Å–Ω–∏—Ç—å calling convention:**
   - –ö–∞–∫–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã –¥–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
   - –ö–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤

7. **–ü–æ–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:**
   - –û—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è `ft_write` –∏ `ft_read`
   - –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É Linux –∏ macOS

### –¢–∏–ø–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã:

**Q: –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `xor rax, rax` –≤–º–µ—Å—Ç–æ `mov rax, 0`?**
A: –≠—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è - –∫–æ–º–∞–Ω–¥–∞ –∫–æ—Ä–æ—á–µ (2 –±–∞–π—Ç–∞ vs 7 –±–∞–π—Ç) –∏ –±—ã—Å—Ç—Ä–µ–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

**Q: –ó–∞—á–µ–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å `rdi` –≤ `ft_strdup`?**
A: –ü–æ—Ç–æ–º—É —á—Ç–æ `ft_strlen` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `rdi` –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –∏ –º–æ–∂–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å. –ù—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ `ft_strcpy`.

**Q: –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Linux –∏ macOS?**
A: –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:
- –§–æ—Ä–º–∞—Ç –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤: elf64 vs macho64
- –ù–æ–º–µ—Ä–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤: –ø—Ä—è–º—ã–µ vs —Å offset 0x2000000
- –ò–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π: –±–µ–∑ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è vs —Å –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è vs —Ñ–ª–∞–≥ –ø–µ—Ä–µ–Ω–æ—Å–∞

**Q: –ü–æ—á–µ–º—É `ft_list_sort` —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∞ –Ω–µ —É–∑–ª—ã?**
A: –≠—Ç–æ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ - –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –¥–∞–Ω–Ω—ã–µ. –≠—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

**–£–¥–∞—á–∏ –Ω–∞ –∑–∞—â–∏—Ç–µ! üöÄ**

